<?xml version="1.0"?>
<unit>
  <test name="p1">
    <sql expected="S">INSERT INTO products (ref, category, name, price, wh_stored) VALUES (##+0::gchararray, ##+1::gint, ##+2::gchararray, 31.4159, .1234 /*name:'+4' type:gfloat*/)</sql>
    <render_as>INSERT INTO products (ref, category, name, price, wh_stored) VALUES ( ## /* name:"+0" type:"gchararray" */, ## /* name:"+1" type:"gint" */, ## /* name:"+2" type:"gchararray" */, 31.4159, .1234 /* name:"+4" type:"gfloat" */)</render_as>
    <render_as>INSERT INTO products (ref, category, name, price, wh_stored) VALUES (## /* type:"gchararray" name:"+0" */, ## /* type:"gint" name:"+1" */, ## /* type:"gchararray" name:"+2" */, 31.4159, 0.123400 /* type:"gfloat" name:"+4" */)</render_as>
    <params>
      <param name="+0" type="gchararray"/>
      <param name="+1" type="gint"/>
      <param name="+2" type="gchararray"/>
      <param name="+4" type="gfloat" default=".1234"/>
    </params>
  </test>

  <test name="p2">
    <sql expected="D">DELETE CASE field1 FROM order_contents WHERE order_id = ##oid::gint AND product_ref = ##-0::gint AND quantity = ##-2::gint AND discount = ##-3::gfloat</sql>
    <render_as>DELETE CASE field1 FROM order_contents WHERE order_id = ## /* name:"oid" type:"gint" */ AND product_ref = ## /* name:"-0" type:"gint" */ AND quantity = ## /* name:"-2" type:"gint" */ AND discount = ## /* name:"-3" type:"gfloat" */</render_as>
    <render_as>DELETE CASE field1 FROM order_contents WHERE order_id = ## /* type:"gint" name:"oid" */ AND product_ref = ## /* type:"gint" name:"-0" */ AND quantity = ## /* type:"gint" name:"-2" */ AND discount = ## /* type:"gfloat" name:"-3" */</render_as>
    <params>
      <param name="oid" type="gint"/>
      <param name="-0" type="gint"/>
      <param name="-2" type="gint"/>
      <param name="-3" type="gfloat"/>
    </params>
  </test>

  <test name="p3">
    <sql expected="A">DELETE FROM order_contents WHERE order_id = ##oid::gint AND product_ref = ##-0::gint AND quantity = ##-2::gint AND discount = ##-3::gfloat</sql>
    <render_as>DELETE FROM order_contents WHERE order_id = ## /* name:"oid" type:"gint" */ AND product_ref = ## /* name:"-0" type:"gint" */ AND quantity = ## /* name:"-2" type:"gint" */ AND discount = ## /* name:"-3" type:"gfloat" */</render_as>
    <render_as>DELETE FROM order_contents WHERE order_id=## /* type:"gint" name:"oid" */ AND product_ref=## /* type:"gint" name:"-0" */ AND quantity=## /* type:"gint" name:"-2" */ AND discount=## /* type:"gfloat" name:"-3" */</render_as>
    <params>
      <param name="oid" type="gint"/>
      <param name="-0" type="gint"/>
      <param name="-2" type="gint"/>
      <param name="-3" type="gfloat"/>
    </params>
  </test>

  <test name="p4">
    <sql expected="A">UPDATE order_contents SET product_ref = ##+0::gint, quantity = ##+2::gint, discount = ##+3::gfloat WHERE order_id = ##oid::gint AND product_ref = ##-0::gint AND quantity = ##-2::gint AND discount = ##-3::gfloat</sql>
    <render_as>UPDATE order_contents SET product_ref = ## /* name:"+0" type:"gint" */, quantity = ## /* name:"+2" type:"gint" */, discount = ## /* name:"+3" type:"gfloat" */ WHERE order_id = ## /* name:"oid" type:"gint" */ AND product_ref = ## /* name:"-0" type:"gint" */ AND quantity = ## /* name:"-2" type:"gint" */ AND discount = ## /* name:"-3" type:"gfloat" */</render_as>
    <render_as>UPDATE order_contents SET product_ref=## /* type:"gint" name:"+0" */, quantity=## /* type:"gint" name:"+2" */, discount=## /* type:"gfloat" name:"+3" */ WHERE order_id=## /* type:"gint" name:"oid" */ AND product_ref=## /* type:"gint" name:"-0" */ AND quantity=## /* type:"gint" name:"-2" */ AND discount=## /* type:"gfloat" name:"-3" */</render_as>
    <params>
      <param name="+0" type="gint"/>
      <param name="+2" type="gint"/>
      <param name="+3" type="gfloat"/>
      <param name="oid" type="gint"/>
      <param name="-0" type="gint"/>
      <param name="-2" type="gint"/>
      <param name="-3" type="gfloat"/>
    </params>
  </test>

  <test name="p5">
    <sql expected="A">UPDATE order_contents SET product_ref = ##+0, quantity = ##+2, discount = ##+3 WHERE order_id = ##oid AND product_ref = ##-0 AND quantity = ##-2 AND discount = ##-3</sql>
    <render_as>UPDATE order_contents SET product_ref = ## /* name:"+0" type:"gchararray" */, quantity = ## /* name:"+2" type:"gchararray" */, discount = ## /* name:"+3" type:"gchararray" */ WHERE order_id = ## /* name:"oid" type:"gchararray" */ AND product_ref = ## /* name:"-0" type:"gchararray" */ AND quantity = ## /* name:"-2" type:"gchararray" */ AND discount = ## /* name:"-3" type:"gchararray" */</render_as>
    <render_as>UPDATE order_contents SET product_ref=## /* type:"gchararray" name:"+0" */, quantity=## /* type:"gchararray" name:"+2" */, discount=## /* type:"gchararray" name:"+3" */ WHERE order_id=## /* type:"gchararray" name:"oid" */ AND product_ref=## /* type:"gchararray" name:"-0" */ AND quantity=## /* type:"gchararray" name:"-2" */ AND discount=## /* type:"gchararray" name:"-3" */</render_as>
    <params>
      <param name="+0" type="gchararray"/>
      <param name="+2" type="gchararray"/>
      <param name="+3" type="gchararray"/>
      <param name="oid" type="gchararray"/>
      <param name="-0" type="gchararray"/>
      <param name="-2" type="gchararray"/>
      <param name="-3" type="gchararray"/>
    </params>
  </test>

  <test name="p6">
    <sql expected="A">UPDATE order_contents SET product_ref = ##customers/@col, quantity = ##customers/#3, discount = ##customers/%nrows WHERE order_id = ##oid AND product_ref = ##-0 AND quantity = ##-2 AND discount = ##-3</sql>
    <render_as>UPDATE order_contents SET product_ref = ## /* name:"customers/@col" type:"gchararray" */, quantity = ## /* name:"customers/#3" type:"gchararray" */, discount = ## /* name:"customers/%nrows" type:"gchararray" */ WHERE order_id = ## /* name:"oid" type:"gchararray" */ AND product_ref = ## /* name:"-0" type:"gchararray" */ AND quantity = ## /* name:"-2" type:"gchararray" */ AND discount = ## /* name:"-3" type:"gchararray" */</render_as>
    <render_as>UPDATE order_contents SET product_ref=## /* type:"gchararray" name:"customers/@col" */, quantity=## /* type:"gchararray" name:"customers/#3" */, discount=## /* type:"gchararray" name:"customers/%nrows" */ WHERE order_id=## /* type:"gchararray" name:"oid" */ AND product_ref=## /* type:"gchararray" name:"-0" */ AND quantity=## /* type:"gchararray" name:"-2" */ AND discount=## /* type:"gchararray" name:"-3" */</render_as>
    <params>
      <param name="customers/@col" type="gchararray"/>
      <param name="customers/#3" type="gchararray"/>
      <param name="customers/%nrows" type="gchararray"/>
      <param name="oid" type="gchararray"/>
      <param name="-0" type="gchararray"/>
      <param name="-2" type="gchararray"/>
      <param name="-3" type="gchararray"/>
    </params>
  </test>

  <test name="p7">
    <sql expected="A">UPDATE order_contents SET product_ref = ##customers/@col, quantity = ##customers/#3, discount = ##customers/%nrows WHERE order_id = ##oid AND product_ref = ##-0 AND quantity = ##-2 AND discount = ##-3::gchararray::NULL</sql>
    <render_as>UPDATE order_contents SET product_ref = ## /* name:"customers/@col" type:"gchararray" */, quantity = ## /* name:"customers/#3" type:"gchararray" */, discount = ## /* name:"customers/%nrows" type:"gchararray" */ WHERE order_id = ## /* name:"oid" type:"gchararray" */ AND product_ref = ## /* name:"-0" type:"gchararray" */ AND quantity = ## /* name:"-2" type:"gchararray" */ AND discount = ## /* name:"-3" type:"gchararray" nullok:"TRUE" */</render_as>
    <render_as>UPDATE order_contents SET product_ref=## /* type:"gchararray" name:"customers/@col" */, quantity=## /* type:"gchararray" name:"customers/#3" */, discount=## /* type:"gchararray" name:"customers/%nrows" */ WHERE order_id=## /* type:"gchararray" name:"oid" */ AND product_ref=## /* type:"gchararray" name:"-0" */ AND quantity=## /* type:"gchararray" name:"-2" */ AND discount=## /* type:"gchararray" name:"-3" nullok:TRUE */</render_as>
    <params>
      <param name="customers/@col" type="gchararray"/>
      <param name="customers/#3" type="gchararray"/>
      <param name="customers/%nrows" type="gchararray"/>
      <param name="oid" type="gchararray"/>
      <param name="-0" type="gchararray"/>
      <param name="-2" type="gchararray"/>
      <param name="-3" type="gchararray" nullok="1"/>
    </params>
  </test>

</unit>
