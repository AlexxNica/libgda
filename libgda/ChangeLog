2002-01-14  Gonzalo Paniagua Javier <gonzalo@gnome-db.org>

	* gda-client.c:
	* gda-client.h:
	* gda-server-connection.c:
	* gda-server-connection.h:
	* gda-server-provider.c:
	* gda-server-provider.h:
	* gda-server-recordset.c:
	* gda-server-recordset.h: changed BonoboXObject to BonoboObject.
	Closes bug #67816.

	* gda-value.c: added documentation for gda_value_stringify().

2002-01-14  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server.c (factory_callback): emit termination signals on all
	errors

	* gda-server-provider.c (gda_server_provider_close_connection):
	(gda_server_provider_open_connection): unref the provider when
	no connections remain open

2002-01-13  Rodrigo Moya <rodrigo@gnome-db.org>
	
	* gda-server-connection.c (impl_Connection_open): use
	bonobo_object_dup_ref, not CORBA_Object_duplicate

	* gda-connection.c (gda_connection_finalize): added new parameter
	in the call to GNOME_Database_Connection_close

2002-01-11  Gonzalo Paniagua Javier <gonzalo@gnome-db.org>

	* *.[ch]: Assign copyright to the GNOME Foundation.

2002-01-10  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server-connection.c (gda_server_connection_add_error_string):
	implemented

2002-01-10  Gonzalo Paniagua Javier <gonzalo@gnome-db.org>

	* gda-row.[ch]: *_get_* returns const. *_set_* receives const.
	Make Time, Timestamp and Date work. Removed assert in
	gda_field_get_time_value(), get_date_value() and get_timestamp_value() 
	as gda_value_*() does it.

	* gda-value.[ch]: removed many warnings. Changes to Time, Date and
	Timestamp. Same with const as the above. Changed BONOBO_ARG_* by
	GDA_VALUE_* for the basic types. Defined TIMEZONE_INVALID. Declared
	GdaDate, GdaTime and GdaTimestamp.
	(gda_value_stringify()): use the maximum precision for Point. Added
	conversion of Date, Time and Timestamp.
	
2002-01-08  Gonzalo Paniagua Javier <gonzalo@gnome-db.org>

	* gda-row.h: define GdaType as an enumeration.

	* gda-row.[ch]: stringify receives a const argument.

	* gda-value.[ch]: stringify receives a const argument. So does
	gda_value_isa(). We should talk about constness in the list.

2002-01-08  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-value.[ch] (gda_value_is_null): new function
	(gda_value_set_null): new function

	* gda-row.[ch] (gda_field_is_null): implemented
	(gda_field_set_null_value): implemented

	* gda-config.c (gda_config_save_data_source): new function

2002-01-05  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server.c (factory_callback): if we fail creating an object,
	and we've got no clients attached, emit the "last_client_gone" signal,
	so that processes can terminate.

2002-01-03  Gonzalo Paniagua Javier <gonzalo@gnome-db.org>

	* Changelog: fix little mistake.

	* gda-row.[ch]:
	* gda-value.[ch]:
	Added support for GeometricPoint data type.	

2002-01-02  Gonzalo Paniagua Javier <gonzalo@gnome-db.org>

	* gda-server-recordset.c (get_row): fixed counter on row retrieval
	loop, which was getting always 1 row more

	* Makefile.am: s/IDLFILES/IDL_FILES, so that ORBit-generated files
	are regenerated when the IDL files change

	* gda-server-connection.c (gda_server_connection_free_error_list): 
	Test if the error list is NULL to avoid failing assertion in
	gda_error_list_free().

2001-12-31  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-recordset.c (gda_recordset_get_value_at): move to next row
	after successfully fetching

2001-12-30  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server-recordset-model.[ch]: new class, for creating
	GdaServerRecordset's from data models

	* gda-server-recordset.[ch] (gda_server_recordset_set_connection):
	(gda_server_recordset_set_fetch_func):
	(gda_server_recordset_set_describe_func): new functions

	* gda-row.[ch] (gda_field_set_value): set const for GdaValue argument

2001-12-29  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-connection.h: added new schemas to GdaConnectionSchema

2001-12-27  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server-provider.[ch]: added getSchema virtual function
	(gda_server_provider_get_schema): new function

	* gda-server-connection.c (impl_Connection_getSchema): implemented

	* gda-connection.[ch] (gda_connection_get_schema): new function

	* gda-parameter.[ch] (gda_parameter_list_new_from_corba): new function

2001-12-25  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server-connection.c (gda_server_connection_class_init): also
	initialize the supports function pointer

	* gda-xml-database.[ch] (gda_xml_database_new_from_uri): renamed
	from gda_xml_database_new_from_file, so that we can get the file
	from any place supported by GnomeVFS
	(gda_xml_database_save): removed, not needed anymore, there is
	gda_xml_document_to_file, which even now works with GnomeVFS
	(gda_xml_database_free): removed

2001-12-23  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-row.c (gda_row_new): initialize all GdaField's to be
	a NULL value

	* gda-value.c (gda_value_set_*): fixed all functions to really
	work as expected

	* gda-server-recordset.c (impl_Recordset_fetch): don't return
	an initialized pointer!

	* gda-recordset.c (gda_recordset_get_n_rows): return the number
	of rows from the GNOME::Database::Recordset object, not the
	underlying GdaDataModelArray, which is filled on demand
	(gda_recordset_get_value_at): get rows on demand

2001-12-22  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server-provider.[ch] (gda_server_provider_supports): new

	* gda-server-connection.c (impl_Connection_supports): new method
	implementation

	* gda-connection.[ch] (gda_connection_supports): new function

2001-12-22  Carlos Perelló Marín <carlos@gnome-db.org>

	* Makefile.am: Fixed.

2001-12-22  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-connection.c (gda_connection_execute_command): don't connect
	to "finalize" signals

	* gda-util.[ch] (gda_file_save): new function
	(gda_file_load): new function

	* gda-xml-document.c (gda_xml_document_free): removed useless function
	(gda_xml_document_to_file): use URIs instead of local filenames, and
	call gda_file_save instead of xmlSaveFile.

2001-12-21  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server.c (component_destroyed_cb): fixed

2001-12-20  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-client.c (cnc_weak_cb): added weak ref callback
	(gda_client_open_connection): use g_object_weak_ref

2001-12-20  Gonzalo Paniagua Javier <gonzalo@gnome-db.org>

	* gda-connection.c: if 'id' is NULL in begin, commit or rollback
	then replace it with a "". This avoids core dump in gda-test.c.

2001-12-20  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server-connection.c:
	* gda-server-provider.c: s/g_return*_if_fail/bonobo_return*_if_fail

2001-12-19  Cleber Rodrigues <cleberrrjr@bol.com.br>

	* gda-xql-*: ported GDA XML Query stuff to GNOME 2

2001-12-19  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server-recordset.c (gda_recordset_new): set column titles

	* gda-data-model-array.c (gda_data_model_array_set_n_columns): new
	function

2001-12-18  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server-recordset.c (impl_Recordset_moveFirst): implemented
	(impl_Recordset_moveNext): implemented
	(impl_Recordset_movePrevious): implemented
	(impl_Recordset_moveLast): implemented

2001-12-18  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server-recordset.c (impl_Recordset_describe): implemented
	(impl_Recordset_fetch): implemented

2001-12-18  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-row.[ch] (gda_row_get_field): new function

	* gda-server-recordset.[ch] (impl_Recordset_getRowCount): new
	CORBA method added

2001-12-17  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-field.[ch]: removed, moved all functions to gda-row

	* gda-server-recordset.c (gda_server_recordset_get_connection): new
	function

	* gda-row.c (gda_row_attributes_new): new function
	(gda_row_attributes_get_field): new function
	(gda_field_attributes_get_defined_size): new function
	(gda_field_attributes_set_defined_size): new function
	(gda_field_attributes_get_name): new function
	(gda_field_attributes_set_name): new function
	(gda_field_attributes_get_scale): new function
	(gda_field_attributes_set_scale): new function
	(gda_field_attributes_get_gdatype): new function
	(gda_field_attributes_set_gdatype): new function
	(gda_field_*): moved from gda-field.[ch]

2001-12-13  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-parameter.c (gda_parameter_list_to_corba): new function

	* gda-server-connection.c (gda_server_connection_notify_action):
	don't build the CORBA sequence by hand, but use the new
	gda_parameter_list_to_corba function

	* gda-recordset (gda_recordset_new): added a GNOME_Database_Recordset
	parameter, since GdaRecordset's shouldn't be created without a
	valid CORBA object

	* gda-connection.c (gda_connection_execute_command): implemented

2001-12-10  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-parameter.c (gda_parameter_list_get_length): return 0 instead
	of -1 if the parameter is NULL

2001-12-09  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server-connection.c (gda_server_connection_notify_action):
	disable, as it is not working right now

	* gda-parameter.[ch] (gda_parameter_list_get_length): new function

	* gda-client.[ch]: added "error" signal to GdaClient class

	* gda-connection.[ch]: added "error" signal to GdaConnection class

	* gda-error.c (gda_error_list_from_exception):
	(gda_error_list_to_exception): fixed crashes

	* gda-config.c: replaced use of GConfEngine with GConfClient to
	avoid problems with GConfEngine/GConfClient (from libgnome) mix
	problems

2001-12-08  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-data-model.c (gda_config_set_column_title): new function, since
	the column titles will be managed by the abstract class
	(gda_data_model_get_column_title): implemented
	(gda_data_model_thaw): implemented

	* gda-config.c (gda_config_get_data_source_model): new function,
	to get the list of installed data sources as a GdaDataModel

2001-12-02  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-client.c (gda_client_get_connection_list): new function
	(gda_client_find_connection): new function

2001-12-01  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-config.c (gda_config_get_component_list): add the created
	structures to the list to be returned

	* gda-server.c (component_destroyed_cb): break the for loop when
	we find the item
	(gda_server_class_init): actually create the object class signals

2001-11-30  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server-provider.c (gda_server_provider_open_connection):
	added support for the POOLING parameter included in the connection
	string, so that clients not using the client library (python, perl,
	etc) have access to the connection pooling feature

	* gda-server-connection.[ch] (gda_server_connection_get_string): new
	(gda_server_connection_get_username): new function
	(gda_server_connection_get_password): new function

2001-11-24  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-server.c (gda_server_register_component): if I use
	"ptype = (GType *) ptype", I'll always get an invalid pointer :-)

2001-11-23  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-client.c (gda_client_open_connection): don't pass NULL
	to ORBit functions

	* gda-xml-document.c:
	* gda-recordset.c: include glib-object.h, not gobject/*.h

	* gda-parameter.[ch] (gda_parameter_new): added a GdaValueType
	parameter

	* gda-config.c (activation_property_to_parameter): adapted to recent
	changes in GdaParameter API

2001-11-22  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-parameter.[ch] (gda_parameter_list_add_value): implemented
	(gda_parameter_list_clear): new function
	(gda_parameter_list_find): implemented

2001-11-18  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-row.[ch] (gda_row_new): new function
	(gda_row_free): new function

	* gda-xml-database.c: removed <gobject/*.h>

2001-11-12  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-config.c: use /apps/libgda as prefix for configuration,
	for not stepping on the GNOME 1.x version configuration

2001-11-10  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-config.[ch] (gda_config_add_listener): new function
	(gda_config_remove_listener): new function

2001-11-07  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-data-model-array.c (gda_data_model_array_append_row): new
	function for adding data to a GdaDataModelArray object

	* gda-value.c (gda_value_isa): new function

	* gda-data-model-list.c (gda_data_model_list_get_value_at): I'm
	stupid, g_list_nth returns a GList *, not the data element!

2001-11-06  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-value.h: added GdaValueType enumeration, which wraps the
	CORBA typecodes

	* gda-value.c (gda_value_new): removed function
	(gda_value_new_null): new function
	(gda_value_new_bigint): new function
	(gda_value_new_binary): new function
	(gda_value_new_boolean): new function
	(gda_value_new_date): new function
	(gda_value_new_double): new function
	(gda_value_new_integer): new function
	(gda_value_new_single): new function
	(gda_value_new_smallint): new funtion
	(gda_value_new_string): new function
	(gda_value_new_time): new function
	(gda_value_new_timestamp): new function
	(gda_value_new_tinyint): new function

	* gda-data-model.[ch] (gda_data_model_freeze):
	(gda_data_model_thaw): new functions for disabling/enabling
	notifications on changes

	* gda-init.c (gda_init): move down the gettext initialization,
	after the check for already initialized

2001-11-04  Carlos Perelló Marín <carlos@gnome-db.org>

	* gda-init.c, Makefile.am: Adapted to use GLIB_GETTEXT.

2001-11-04  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-client.[ch]: don't make it an object attached to a specific
	provider, but make it the main entry point for GDA clients

	* gda-config.[ch] (gda_config_get_data_source_list):
	(gda_config_find_data_source):
	(gda_config_copy_data_source_info):
	(gda_config_free_data_source_info):
	(gda_config_free_data_source_list): new functions

2001-11-03  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-data-model.[ch] (gda_data_model_get_column_title): new function

	* Makefile.am: don't install headers in $includedir/gnome-2.0

	* gda-value.c (gda_value_new): return the created structure

	* gda-data-model-list.c (gda_data_model_list_get_type): this class
	derives from GdaDataModel, not GObject

	* gda-data-model.c (gda_data_model_get_n_rows): removed the extra
	'_list' in the function name

	* gda-config.c (gda_config_get_provider_list): add the retrieved
	items to the list to be returned or we'll allways return NULL!
	(activation_property_to_list): g_strdup the string to be added to
	the returned GList

2001-11-02  Rodrigo Moya <rodrigo@gnome-db.org>

	* gda-command.c (gda_command_new): s/gda_command_get_type/
	gda_command_set_gdatype

	* Makefile.am: added gda-log.[ch] to list of SOURCES

	* gda-server.c (factory_callback): add all created componentes to
	our private list, and connect to their "destroy" signal, so that we
	can keep track of all components, and terminate when there are no
	more
	(component_destroyed_cb): callback function. When no more components
	exist, emit the LAST_CLIENT_GONE signal

	* gda-row.[ch]: new files

	* gda-parameter.c (free_hash_param): added function body
	(gda_parameter_list_add_parameter): added missing function

	* gda-server-recordset.c (impl_Recordset_moveFirst):
	(impl_Recordset_moveNext):
	(impl_Recordset_movePrevious):
	(impl_Recordset_moveLast):
	(impl_Recordset_fetch): implemented

	* gda-value.c (gda_value_copy): new function

2001-11-01  Rodrigo Moya <rodrigo@gnome-db.org>

	* new version of the libraries, just all the stuff in a
	libgda library
